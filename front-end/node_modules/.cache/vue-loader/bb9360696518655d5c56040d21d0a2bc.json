{"remainingRequest":"D:\\actionPreview\\front-end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\actionPreview\\front-end\\src\\components\\indexPage\\pubAction.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\actionPreview\\front-end\\src\\components\\indexPage\\pubAction.vue","mtime":1581768923749},{"path":"D:\\actionPreview\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\actionPreview\\front-end\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\actionPreview\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\actionPreview\\front-end\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6J3B1YkFjdGlvbicsCiAgICBkYXRhICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBmb3JtVmFsaWRhdGU6IHsKICAgICAgICAgICAgICAgIGFjdFRpdGxlOiAnJywKICAgICAgICAgICAgICAgIGFjdFBsYWNlOiAnJywKICAgICAgICAgICAgICAgIGFjdERhdGU6ICcnLAogICAgICAgICAgICAgICAgYWN0VGltZTogJycsCiAgICAgICAgICAgICAgICBpc1NlcmlvdXM6JycsCiAgICAgICAgICAgICAgICBpc1RvcDonJywKICAgICAgICAgICAgICAgIGFjdEluZm86ICcnLAogICAgICAgICAgICAgICAgbWF4UGVvcGxlOicnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJ1bGVWYWxpZGF0ZTogewogICAgICAgICAgICAgICAgYWN0VGl0bGU6IFsKICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn5rS75Yqo5Li76aKY5LiN6IO95Li656m6JywgdHJpZ2dlcjogJ2JsdXInIH0KICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICBhY3RQbGFjZTogWwogICAgICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfmtLvliqjlnLDngrnkuI3og73kuLrnqbonLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIGFjdERhdGU6IFsKICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCB0eXBlOiAnZGF0ZScsIG1lc3NhZ2U6ICfor7fpgInmi6nmtLvliqjml6XmnJ8gJywgdHJpZ2dlcjogJ2NoYW5nZScgfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIGlzU2VyaW91czogWwogICAgICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nmmK/lkKbliqDmgKUnLCB0cmlnZ2VyOiAnY2hhbmdlJyB9CiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgaXNUb3A6IFsKICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5piv5ZCm572u6aG2JywgdHJpZ2dlcjogJ2NoYW5nZScgfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIGFjdEluZm86IFsKICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5rS75Yqo6K+m5oOFJywgdHJpZ2dlcjogJ2JsdXInIH0KICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICBtYXhQZW9wbGU6IFsKICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5Lq65pWw5LiK6ZmQJywgdHJpZ2dlcjogJ2JsdXInIH0KICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgaGFuZGxlU3VibWl0IChuYW1lKSB7CiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgICAgICAgdGhpcy4kcmVmc1tuYW1lXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICAgICAgICAgIGlmKHRoYXQuaXNTZXJpb3VzID09PSB0cnVlIHx8IHRoYXQuaXNTZXJpb3VzID09PSAxKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5pc1NlcmlvdXMgPSAxOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmlzU2VyaW91cyA9IDA7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBsZXQgcG9zdERhdGEgPXsKICAgICAgICAgICAgICAgICAgICAgICAgImFjdFRpdGxlIiA6IHRoYXQuYWN0VGl0bGUsCiAgICAgICAgICAgICAgICAgICAgICAgICJhY3REYXRlIiA6IHRoYXQuYWN0RGF0ZSAsCiAgICAgICAgICAgICAgICAgICAgICAgICJhY3RUaW1lIiA6IHRoYXQuYWN0VGltZSwKICAgICAgICAgICAgICAgICAgICAgICAgImFjdFBsYWNlIiA6IHRoYXQuYWN0UGxhY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJpc1NlcmlvdXMiIDogdGhhdC5pc1NlcmlvdXMsCiAgICAgICAgICAgICAgICAgICAgICAgICJpc1RvcCIgOiB0aGF0LmlzVG9wLAogICAgICAgICAgICAgICAgICAgICAgICAibWF4UGVvcGxlIjogdGhhdC5tYXhQZW9wbGUsCiAgICAgICAgICAgICAgICAgICAgICAgICJhY3RJbmZvIiA6IHRoYXQuYWN0SW5mbwogICAgICAgICAgICAgICAgICAgIH07Ly/lj5HpgIHnmoTmlbDmja4KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwb3N0RGF0YSk7CiAgICAgICAgICAgICAgICAgICAgdGhhdC4kcmVxdWVzdC5wb3N0KCIvcHViQWN0Iixwb3N0RGF0YSx7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFscyA6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnMgOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzonYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04JyAvL+i3qOWfn+Wtl+auteWkhOWkhOeQhu+8jGpzb27moLzlvI/lpb0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgICAgICAgICB9KS8v5Li65LqG6Ziy5q2i5omL6LSxIOaKiui/memHjOWFiOazqOmHiuaOiQoKICAgICAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoJ1N1Y2Nlc3MhJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoJ0ZhaWwhJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBoYW5kbGVSZXNldCAobmFtZSkgewogICAgICAgICAgICB0aGlzLiRyZWZzW25hbWVdLnJlc2V0RmllbGRzKCk7CiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["pubAction.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pubAction.vue","sourceRoot":"src/components/indexPage","sourcesContent":["<template>\n<div class=\"box\">\n<Form ref=\"formValidate\" :model=\"formValidate\" :rules=\"ruleValidate\" :label-width=\"80\" class=\"format\"> \n        <FormItem label=\"活动主题\" prop=\"actTitle\">\n            <Input v-model=\"formValidate.actTitle\" placeholder=\"输入活动主题\"></Input>\n        </FormItem>\n        <FormItem label=\"活动地点\" prop=\"actPlace\">\n            <Input v-model=\"formValidate.actPlace\" placeholder=\"输入活动地点\"></Input>\n        </FormItem>\n        \n        <FormItem label=\"活动日期\">\n            <Row>\n                <Col span=\"11\">\n                    <FormItem prop=\"date\">\n                        <DatePicker type=\"date\" placeholder=\"选择日期\" v-model=\"formValidate.actDate\"></DatePicker>\n                    </FormItem>\n                </Col>\n                <Col span=\"2\" style=\"text-align: center\">——</Col>\n                <Col span=\"11\">\n                    <FormItem prop=\"time\">\n                        <!-- <TimePicker type=\"time\" placeholder=\"选择时间\" v-model=\"formValidate.time\"></TimePicker> -->\n                        <TimePicker v-model=\"formValidate.actTime\" format=\"HH’mm’ss\" type=\"timerange\" placement=\"bottom-end\" placeholder=\"选择时间\" ></TimePicker>\n                    </FormItem>\n                </Col>\n            </Row>\n        </FormItem>\n        <FormItem label=\"人数上限\" prop=\"maxPeople\">\n            <Input v-model=\"formValidate.maxPeople\" placeholder=\"输入人数上限\"></Input>\n        </FormItem>\n        <FormItem label=\"是否加急\" prop=\"isSerious\">\n            <RadioGroup v-model=\"formValidate.isSerious\">\n                <Radio label=\"true\">加急事件</Radio>\n                <Radio label=\"false\">普通事件</Radio>\n            </RadioGroup>\n        </FormItem>\n        <FormItem label=\"是否置顶\" prop=\"isTop\">\n            <RadioGroup v-model=\"formValidate.isTop\">\n                <Radio label=\"true\">是</Radio>\n                <Radio label=\"false\">否</Radio>\n            </RadioGroup>\n        </FormItem>\n        <FormItem label=\"活动详情\" prop=\"actInfo\">\n            <Input v-model=\"formValidate.actInfo\" type=\"textarea\" :autosize=\"{minRows: 5,maxRows: 5}\" placeholder=\"Enter something...\"></Input>\n        </FormItem>\n        <FormItem>\n            <Button type=\"primary\" @click=\"handleSubmit('formValidate')\">提交</Button>\n            <Button @click=\"handleReset('formValidate')\" style=\"margin-left: 8px\">重置</Button>\n        </FormItem>\n    </Form>\n</div>\n    \n</template>\n<script>\n    export default {\n        name:'pubAction',\n        data () {\n            return {\n                formValidate: {\n                    actTitle: '',\n                    actPlace: '',\n                    actDate: '',\n                    actTime: '',\n                    isSerious:'',\n                    isTop:'',\n                    actInfo: '',\n                    maxPeople:''\n                },\n                ruleValidate: {\n                    actTitle: [\n                        { required: true, message: '活动主题不能为空', trigger: 'blur' }\n                    ],\n                    actPlace: [\n                        { required: true, message: '活动地点不能为空', trigger: 'blur' }\n                    ],\n                    actDate: [\n                        { required: true, type: 'date', message: '请选择活动日期 ', trigger: 'change' }\n                    ],\n                    isSerious: [\n                        { required: true, message: '请选择是否加急', trigger: 'change' }\n                    ],\n                    isTop: [\n                        { required: true, message: '请选择是否置顶', trigger: 'change' }\n                    ],\n                    actInfo: [\n                        { required: true, message: '请输入活动详情', trigger: 'blur' }\n                    ],\n                    maxPeople: [\n                        { required: true, message: '请输入人数上限', trigger: 'blur' }\n                    ]\n                }\n            }\n        },\n        methods: {\n            handleSubmit (name) {\n                var that = this;\n                this.$refs[name].validate((valid) => {\n                    if (valid) {\n                        if(that.isSerious === true || that.isSerious === 1)\n                        {\n                            that.isSerious = 1;\n                        }\n                        else\n                        {\n                            that.isSerious = 0;\n                        }\n\n                        let postData ={\n                            \"actTitle\" : that.actTitle,\n                            \"actDate\" : that.actDate ,\n                            \"actTime\" : that.actTime,\n                            \"actPlace\" : that.actPlace,\n                            \"isSerious\" : that.isSerious,\n                            \"isTop\" : that.isTop,\n                            \"maxPeople\": that.maxPeople,\n                            \"actInfo\" : that.actInfo\n                        };//发送的数据\n                        console.log(postData);\n                        that.$request.post(\"/pubAct\",postData,{\n                            withCredentials : true,\n                            headers : {\n                                'Content-Type':'application/json;charset=utf-8' //跨域字段处处理，json格式好\n                            }\n                        }).then((result) => {\n                            console.log(result);\n                        }).catch((err) => {\n                            console.log(err);\n                        })//为了防止手贱 把这里先注释掉\n\n                        this.$Message.success('Success!');\n                    } else {\n                        this.$Message.error('Fail!');\n                    }\n                })\n            },\n            handleReset (name) {\n                this.$refs[name].resetFields();\n            }\n        }\n    }\n</script>\n<style scoped>\n    .box{\n        width: 100%;\n    }\n\n    .format{\n        margin: 0 auto;\n        position: relative;\n        width: 70%;\n        /* height: 88%; */\n        background-color: white;\n        border-radius: 15px;\n        padding: 20px;\n    }\n</style>"]}]}