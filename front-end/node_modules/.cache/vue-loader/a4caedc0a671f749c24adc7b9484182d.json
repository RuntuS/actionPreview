{"remainingRequest":"D:\\actionPreview\\front-end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\actionPreview\\front-end\\src\\components\\pubInf\\pubInfBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\actionPreview\\front-end\\src\\components\\pubInf\\pubInfBox.vue","mtime":1581757454182},{"path":"D:\\actionPreview\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\actionPreview\\front-end\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\actionPreview\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\actionPreview\\front-end\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJwdWJJbmZCb3giLAogICAgZGF0YSgpewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGNvbHVtbnMgOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGUgOiAi5rS75Yqo5qCH6aKYIiwKICAgICAgICAgICAgICAgICAgICBrZXkgOiAiYWN0VGl0bGUiCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi5rS75Yqo5pe26Ze0IiwKICAgICAgICAgICAgICAgICAgICBrZXkgOiAiYWN0RGF0ZSIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLmtLvliqjlnLDngrkiLAogICAgICAgICAgICAgICAgICAgIGtleSA6ICJhY3RQbGFjZSIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLlj5HluIPmtLvliqjnmoTogIHluIgiLAogICAgICAgICAgICAgICAgICAgIGtleSA6ICJ0ZWFjaGVyTmFtZSIsCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDE1MAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogIua0u+WKqOivpuaDhSIsCiAgICAgICAgICAgICAgICAgICAgc2xvdCA6ICdhY3Rpb24nLAogICAgICAgICAgICAgICAgICAgIGFsaWduIDogImNlbnRlciIsCiAgICAgICAgICAgICAgICAgICAgLy8ga2V5IDogIkluZiIsCiAgICAgICAgICAgICAgICAgICAgd2lkdGggOiAxNTAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXSwKICAgICAgICAgICAgLy/pobXpnaLpnIDopoHnmoRkYXRhCiAgICAgICAgICAgIHBhZ2VOZWVkRGF0YSA6IHsKICAgICAgICAgICAgICAgIGRhdGExIDogWwoKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICBmaXJzdFJlc0RhdGEgOiBbIC8v6aaW5qyh5ZON5bqU6I635b6X55qEZGF0YQoKICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIHBhZ2VOdW0gOiAwLAogICAgICAgICAgICBjdXJyZW50UGFnZVZhciA6IDEsCiAgICAgICAgICAgIGluZGV4IDogMCwKICAgICAgICAgICAgc2VhcmNoZWRJbmYgOiAiIiAsLy/mkJzntKLmoYbnmoTmlbDlgLwKICAgICAgICAgICAgb3JpZ2luUGFnZU51bWJlciA6IDAgLy/ov5nkuKrkuLvopoHmmK/lgZrnvJPlrZjvvIzlrZjlgqjmsqHmnInntKLlvJXkv6Hmga/mg4XlhrXkuIvnmoTpobXmlbAKICAgICAgICB9CiAgICB9LAoKICAgIG1ldGhvZHMgOiB7CgogICAgICAgIC8qKioqKuW/heimgeWHveaVsOS/oeaBryoqKioqLwogICAgICAgIC8v5pel5pyf6KeE5qC85YyW5Ye95pWwCiAgICAgICAgbm9ybWFsaXppbmdEYXRlKG1pZGRsZURhdGEpIHsKICAgICAgICAgICAgbWlkZGxlRGF0YS5mb3JFYWNoKHggPT4geyAvL+WvueaXtumXtOa2iOaBr+i/m+ihjOWkhOeQhgogICAgICAgICAgICAgICAgbGV0IGFycmF5ID0geC5hY3REYXRlLnNwbGl0KCIgIik7CiAgICAgICAgICAgICAgICB4LmFjdERhdGUgPSBhcnJheVswXSsiICIrYXJyYXlbMV0rIi0iK2FycmF5WzJdOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIG1pZGRsZURhdGE7CiAgICAgICAgfSwKCiAgICAgICAgY29tcHV0aW5nUGFnZXModG90YWxQYWdlcyl7CiAgICAgICAgICAgIGlmICh0b3RhbFBhZ2VzIDw9IDMpIC8v5pqC5pe25YWI55So5LiJ5p2l5Luj5pu/CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiAxMDsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwodG90YWxQYWdlcy8zKSAqIDEwOy8vTWF0aC5jZWlsLT7lkJHkuIrlj5bmlbQKICAgICAgICAgICAgfQogICAgICAgIH0sCgoKCiAgICAgICAgLy/kuIvpnaLmmK/pnIDopoHov5vooYzlk43lupTor7fmsYLnmoTlh73mlbAKICAgICAgICAvL+eCueWHu+mhtemdoueahOWTjeW6lAogICAgICAgIGN1cnJlbnRQYWdlKHBhZ2UpewoKICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZVZhciA9IHBhZ2U7CiAgICAgICAgICAgIGlmKHRoaXMuc2VhcmNoZWRJbmYgPT09IG51bGwpIC8v5b2T5pCc57Si5qGG5rKh5pyJ5YC855qE5pe25YCZ77yM6L+b6KGM6L+Z56eN6K+35rGCCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJlcXVlc3QuZ2V0KCcvYWN0SW5mL3BhZ2UnLHsKICAgICAgICAgICAgICAgICAgICBwYXJhbXMgOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2UgOiBwYWdlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgbGV0IG1pZGRsZURhdGEgPSByZXN1bHQuZGF0YTsvL21pZGRsZURhdGHmmK/kuK3pl7TmlbDnu4TvvIzkuI3nlKjnrqEKICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2VOZWVkRGF0YS5kYXRhMSA9IHRoaXMubm9ybWFsaXppbmdEYXRlKG1pZGRsZURhdGEpOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMuJHJlcXVlc3QuZ2V0KCcvYWN0SW5mL3NlYXJjaC9wYWdlJyx7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zIDogewogICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hlZEluZiA6IHRoaXMuc2VhcmNoZWRJbmYsCiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlIDogcGFnZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5kYXRhKTsKICAgICAgICAgICAgICAgICAgICBsZXQgbWlkZGxlRGF0YSA9IHJlc3VsdC5kYXRhOwogICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZU5lZWREYXRhLmRhdGExID0gdGhpcy5ub3JtYWxpemluZ0RhdGUobWlkZGxlRGF0YSk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICAvL0V4Y2Vs6KGo5qC85a+85Ye6CiAgICAgICAgZXhwb3J0RGF0YSgpewogICAgICAgICAgICB0aGlzLiRyZXF1ZXN0LmdldCgiL2V4Y2VsL2FjdGlvbi1JbmYiKQogICAgICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDlpITnkIbnu5Pmnpwke3Jlc3VsdH1gKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCgogICAgICAgIC8v6Lev55Sx6Lez6L2s5Ye95pWwCiAgICAgICAgZ2l2ZVJvdyhpbmRleCl7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGluZGV4KTsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGggOiIvYWN0SW5mL21vcmVJbmYiICwgcXVlcnkgOiB7IGFjdElkIDogdGhpcy5wYWdlTmVlZERhdGEuZGF0YTFbaW5kZXhdLmFjdGlvbklkfX0pOwogICAgICAgIH0sCgoKCiAgICB9LAoKICAgIC8v5Yid5aeL5YyW55qE5ZON5bqUCiAgICBjcmVhdGVkKCkgewogICAgICAgIHRoaXMuJHJlcXVlc3QuZ2V0KCIvYWN0SW5mIix7CiAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CgogICAgICAgICAgICBsZXQgdG90YWxOdW1iZXIgPSAwOwogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICAgICAgICBpZiAocmVzdWx0LmRhdGEuc3RhdHVzID09PSAiZmFpbCIpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCLnmbvlvZXlt7Lov4fmnJ/vvIzor7fph43mlrDnmbvlvZUhIik7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS50ZWFOYW1lID0gcmVzdWx0LmRhdGEudGVhY2hlck5hbWU7Ly/orr7nva7mlZnluIjlkI3np7AKICAgICAgICAgICAgICAgIHRvdGFsTnVtYmVyID0gcmVzdWx0LmRhdGEuYWN0aW9uTnVtYmVyOyAvL+S4gOWFseeahOmhteaVsO+8jOWJjeerr+i/m+ihjAogICAgICAgICAgICAgICAgdGhpcy5wYWdlTnVtID0gdGhpcy5jb21wdXRpbmdQYWdlcyh0b3RhbE51bWJlcik7IC8v6K6h566X6aG15pWwCiAgICAgICAgICAgICAgICB0aGlzLm9yaWdpblBhZ2VOdW1iZXIgPSB0aGlzLnBhZ2VOdW07Ly/nvJPlrZgKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMub3JpZ2luUGFnZU51bWJlcik7CgogICAgICAgICAgICAgICAgdGhpcy5wYWdlTmVlZERhdGEuZGF0YTEgPSB0aGlzLm5vcm1hbGl6aW5nRGF0ZShyZXN1bHQuZGF0YS5kYXRhKTsgLy/ml6XmnJ/op4TmoLzljJYKICAgICAgICAgICAgICAgIHRoaXMucGFnZU5lZWREYXRhLmZpcnN0UmVzRGF0YSA9IFsuLi50aGlzLnBhZ2VOZWVkRGF0YS5kYXRhMV07Ly/mlbDnu4Tmt7Hluqbmi7fotJ0o6Kej5Yaz5byV55So57G75Z6L6Zeu6aKYKQogICAgICAgICAgICB9CgogICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KTsKICAgIH0sCgoKICAgIHdhdGNoIDogeyAvL+WunuaXtuaQnOe0ogogICAgICAgIHNlYXJjaGVkSW5mIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICBsZXQgc2VhcmNoZWRJbmYgPSB0aGlzLnNlYXJjaGVkSW5mOwogICAgICAgICAgICBpZihzZWFyY2hlZEluZiA9PT0gbnVsbCkvL+e0ouW8leahhuS4uuepuueahOaXtuWAme+8jOS4jeeUqOivt+axgu+8jOebtOaOpeeUqOacrOWcsOe8k+WtmOWAvAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm9yaWdpblBhZ2VOdW1iZXIpOwogICAgICAgICAgICAgICAgdGhpcy5wYWdlTmVlZERhdGEuZGF0YTEgPSBbLi4udGhpcy5wYWdlTmVlZERhdGEuZmlyc3RSZXNEYXRhXTsKICAgICAgICAgICAgICAgIHRoaXMucGFnZU51bSA9IHRoaXMub3JpZ2luUGFnZU51bWJlcjsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHsgLy/lvZPntKLlvJXmoYbkuI3kuLrnqbrnmoTml7blgJnnmoTor7fmsYIKICAgICAgICAgICAgICAgIHRoaXMuJHJlcXVlc3QuZ2V0KCIvYWN0SW5mL3NlYXJjaCIsewogICAgICAgICAgICAgICAgICAgIHBhcmFtcyA6IHsKICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoZWRJbmYgOiBzZWFyY2hlZEluZgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5kYXRhKTsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmRhdGEgPT09IG51bGwpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2VOZWVkRGF0YS5kYXRhMSA9IFsuLi50aGlzLnBhZ2VOZWVkRGF0YS5maXJzdFJlc0RhdGFdOy8v5Li6MOeahOaXtuWAme+8jOaKiuWvueW6lOaVsOaNruaLt+i0nei/m+WOuwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQuZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZU51bSA9IHRoaXMuY29tcHV0aW5nUGFnZXMocmVzdWx0LmRhdGEucGFnZU51bSk7Ly/ov5vooYzmkJzntKLpobXmlbDorqHnrpcKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlTmVlZERhdGEuZGF0YTEgPSByZXN1bHQuZGF0YS5zZWFyY2hlZERhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMucGFnZU5lZWREYXRhLmRhdGExID0gcmVzdWx0LmRhdGE7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9Ly9lbHNlCgogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["pubInfBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"pubInfBox.vue","sourceRoot":"src/components/pubInf","sourcesContent":["<template>\n    <div >\n        <Row id=\"searchBox\">\n            <Input search placeholder=\"搜索活动信息（请输入活动标题)\" v-model=\"searchedInf\" />\n        </Row>\n\n        <Row id=\"pubInfBox\">\n            <Table border :columns=\"columns\" :data=\"pageNeedData.data1\" >\n            <template slot=\"action\" slot-scope=\"{row , index}\">\n                <Button type=\"primary\" @click=\"giveRow(index)\">详细页面</Button>\n            </template>\n            </Table>\n        </Row>\n\n        <Row class=\"NavigationBox\">\n            <Col span=\"16\" >\n                <Page :total=\"pageNum\" show-elevator  @on-change=\"currentPage\"/>\n            </Col>\n            <Col span=\"8\">\n                <Button type=\"primary\"  @click=\"exportData()\"><Icon type=\"ios-download-outline\"></Icon> Export source data</Button>\n            </Col>\n        </Row>\n\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"pubInfBox\",\n        data(){\n            return {\n                columns : [\n                    {\n                        title : \"活动标题\",\n                        key : \"actTitle\"\n                    },\n                    {\n                        title: \"活动时间\",\n                        key : \"actDate\"\n                    },\n                    {\n                        title: \"活动地点\",\n                        key : \"actPlace\"\n                    },\n                    {\n                        title: \"发布活动的老师\",\n                        key : \"teacherName\",\n                        width: 150\n                    },\n                    {\n                        title: \"活动详情\",\n                        slot : 'action',\n                        align : \"center\",\n                        // key : \"Inf\",\n                        width : 150\n                    }\n                ],\n                //页面需要的data\n                pageNeedData : {\n                    data1 : [\n\n                    ],\n                    firstResData : [ //首次响应获得的data\n\n                    ]\n                },\n\n                pageNum : 0,\n                currentPageVar : 1,\n                index : 0,\n                searchedInf : \"\" ,//搜索框的数值\n                originPageNumber : 0 //这个主要是做缓存，存储没有索引信息情况下的页数\n            }\n        },\n\n        methods : {\n\n            /*****必要函数信息*****/\n            //日期规格化函数\n            normalizingDate(middleData) {\n                middleData.forEach(x => { //对时间消息进行处理\n                    let array = x.actDate.split(\" \");\n                    x.actDate = array[0]+\" \"+array[1]+\"-\"+array[2];\n                });\n                return middleData;\n            },\n\n            computingPages(totalPages){\n                if (totalPages <= 3) //暂时先用三来代替\n                {\n                    return 10;\n                }\n                else\n                {\n                    return Math.ceil(totalPages/3) * 10;//Math.ceil->向上取整\n                }\n            },\n\n\n\n            //下面是需要进行响应请求的函数\n            //点击页面的响应\n            currentPage(page){\n\n                this.currentPageVar = page;\n                if(this.searchedInf === null) //当搜索框没有值的时候，进行这种请求\n                {\n                    this.$request.get('/actInf/page',{\n                        params : {\n                            page : page\n                        }\n                    }).then((result) => {\n                        let middleData = result.data;//middleData是中间数组，不用管\n                        this.pageNeedData.data1 = this.normalizingDate(middleData);\n                    }).catch(err => {\n                        console.log(err);\n                    })\n                }\n\n                else{\n                    this.$request.get('/actInf/search/page',{\n                        params : {\n                            searchedInf : this.searchedInf,\n                            currentPage : page\n                        }\n                    }).then((result) => {\n                        console.log(result.data);\n                        let middleData = result.data;\n                        this.pageNeedData.data1 = this.normalizingDate(middleData);\n                    }).catch((err) => {\n                        console.log(err);\n                    })\n                }\n            },\n\n            //Excel表格导出\n            exportData(){\n                this.$request.get(\"/excel/action-Inf\")\n                    .then((result) => {\n                        console.log(`处理结果${result}`);\n                    }).catch((err) => {\n                    console.log(err);\n                })\n            },\n\n\n            //路由跳转函数\n            giveRow(index){\n                console.log(index);\n                this.$router.push({path :\"/actInf/moreInf\" , query : { actId : this.pageNeedData.data1[index].actionId}});\n            },\n\n\n\n        },\n\n        //初始化的响应\n        created() {\n            this.$request.get(\"/actInf\",{\n            }).then((result) => {\n\n                let totalNumber = 0;\n                console.log(result);\n                if (result.data.status === \"fail\")\n                {\n                    alert(\"登录已过期，请重新登录!\");\n                    this.$router.push(\"/login\");\n                }\n                else\n                {\n                    this.$store.state.teaName = result.data.teacherName;//设置教师名称\n                    totalNumber = result.data.actionNumber; //一共的页数，前端进行\n                    this.pageNum = this.computingPages(totalNumber); //计算页数\n                    this.originPageNumber = this.pageNum;//缓存\n                    console.log(this.originPageNumber);\n\n                    this.pageNeedData.data1 = this.normalizingDate(result.data.data); //日期规格化\n                    this.pageNeedData.firstResData = [...this.pageNeedData.data1];//数组深度拷贝(解决引用类型问题)\n                }\n\n            }).catch((err) => {\n                console.log(err);\n            });\n        },\n\n\n        watch : { //实时搜索\n            searchedInf : function () {\n                let searchedInf = this.searchedInf;\n                if(searchedInf === null)//索引框为空的时候，不用请求，直接用本地缓存值\n                {\n                    console.log(this.originPageNumber);\n                    this.pageNeedData.data1 = [...this.pageNeedData.firstResData];\n                    this.pageNum = this.originPageNumber;\n                }\n                else\n                { //当索引框不为空的时候的请求\n                    this.$request.get(\"/actInf/search\",{\n                        params : {\n                            searchedInf : searchedInf\n                        }\n                    }).then((result) => {\n                        console.log(result.data);\n                        if (result.data === null)\n                        {\n                            this.pageNeedData.data1 = [...this.pageNeedData.firstResData];//为0的时候，把对应数据拷贝进去\n                        }\n                        else\n                        {\n                            console.log(result.data);\n                            this.pageNum = this.computingPages(result.data.pageNum);//进行搜索页数计算\n                            this.pageNeedData.data1 = result.data.searchedData;\n                            // this.pageNeedData.data1 = result.data;\n                        }\n                    }).catch((err) => {\n                        console.log(err);\n                    })\n                }//else\n\n            }\n        }\n    }\n</script>\n\n<style scoped>\n#pubInfBox{\n    border: 1px solid red;\n\n}\n\n.NavigationBox{\n    border:1px solid red;\n    width: 100%;\n}\n</style>"]}]}